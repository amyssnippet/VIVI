{"level":"error","message":"Failed to initialize email service: nodemailer.createTransporter is not a function","service":"ai-assistant-backend","stack":"TypeError: nodemailer.createTransporter is not a function\n    at EmailService.init (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:15:39)\n    at new EmailService (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:8:10)\n    at Object.<anonymous> (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:194:18)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Object..js (node:internal/modules/cjs/loader:1895:10)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1487:12)","timestamp":"2025-09-12 19:09:20"}
{"level":"error","message":"Failed to sync database: password authentication failed for user \"username\"","name":"SequelizeConnectionError","original":{"code":"28P01","file":"auth.c","length":104,"line":"321","name":"error","routine":"auth_failed","severity":"FATAL"},"parent":{"code":"28P01","file":"auth.c","length":104,"line":"321","name":"error","routine":"auth_failed","severity":"FATAL"},"service":"ai-assistant-backend","stack":"SequelizeConnectionError: password authentication failed for user \"username\"\n    at Client._connectionCallback (/home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/dialects/postgres/connection-manager.js:145:24)\n    at Client._handleErrorWhileConnecting (/home/amol/Desktop/VIVI/backend/node_modules/pg/lib/client.js:336:19)\n    at Client._handleErrorMessage (/home/amol/Desktop/VIVI/backend/node_modules/pg/lib/client.js:356:19)\n    at Connection.emit (node:events:518:28)\n    at /home/amol/Desktop/VIVI/backend/node_modules/pg/lib/connection.js:116:12\n    at Parser.parse (/home/amol/Desktop/VIVI/backend/node_modules/pg-protocol/dist/parser.js:36:17)\n    at Socket.<anonymous> (/home/amol/Desktop/VIVI/backend/node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)","timestamp":"2025-09-12 19:09:20"}
{"level":"error","message":"Failed to initialize email service: nodemailer.createTransporter is not a function","service":"ai-assistant-backend","stack":"TypeError: nodemailer.createTransporter is not a function\n    at EmailService.init (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:15:39)\n    at new EmailService (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:8:10)\n    at Object.<anonymous> (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:194:18)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Object..js (node:internal/modules/cjs/loader:1895:10)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1487:12)","timestamp":"2025-09-12 19:23:25"}
{"level":"error","message":"Failed to sync database: permission denied for schema public","name":"SequelizeDatabaseError","original":{"code":"42501","file":"aclchk.c","length":99,"line":"2843","name":"error","position":"28","routine":"aclcheck_error","severity":"ERROR","sql":"CREATE TABLE IF NOT EXISTS \"organizations\" (\"id\"  SERIAL , \"name\" VARCHAR(255) NOT NULL, \"slug\" VARCHAR(100) NOT NULL UNIQUE, \"description\" TEXT, \"settings\" JSONB DEFAULT '{}', \"language_settings\" JSONB DEFAULT '{\"default\":\"en\",\"supported\":[\"en\"]}', \"is_active\" BOOLEAN DEFAULT true, \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));"},"parameters":{},"parent":{"code":"42501","file":"aclchk.c","length":99,"line":"2843","name":"error","position":"28","routine":"aclcheck_error","severity":"ERROR","sql":"CREATE TABLE IF NOT EXISTS \"organizations\" (\"id\"  SERIAL , \"name\" VARCHAR(255) NOT NULL, \"slug\" VARCHAR(100) NOT NULL UNIQUE, \"description\" TEXT, \"settings\" JSONB DEFAULT '{}', \"language_settings\" JSONB DEFAULT '{\"default\":\"en\",\"supported\":[\"en\"]}', \"is_active\" BOOLEAN DEFAULT true, \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));"},"service":"ai-assistant-backend","sql":"CREATE TABLE IF NOT EXISTS \"organizations\" (\"id\"  SERIAL , \"name\" VARCHAR(255) NOT NULL, \"slug\" VARCHAR(100) NOT NULL UNIQUE, \"description\" TEXT, \"settings\" JSONB DEFAULT '{}', \"language_settings\" JSONB DEFAULT '{\"default\":\"en\",\"supported\":[\"en\"]}', \"is_active\" BOOLEAN DEFAULT true, \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));","stack":"Error\n    at Query.run (/home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async Organization.sync (/home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/sequelize.js:377:9)","timestamp":"2025-09-12 19:23:25"}
{"level":"error","message":"Failed to initialize email service: nodemailer.createTransporter is not a function","service":"ai-assistant-backend","stack":"TypeError: nodemailer.createTransporter is not a function\n    at EmailService.init (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:15:39)\n    at new EmailService (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:8:10)\n    at Object.<anonymous> (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:194:18)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Object..js (node:internal/modules/cjs/loader:1895:10)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1487:12)","timestamp":"2025-09-12 19:24:26"}
{"code":"EAUTH","command":"AUTH PLAIN","level":"error","message":"Failed to initialize email service: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-77607b18371sm5676625b3a.49 - gsmtp","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-77607b18371sm5676625b3a.49 - gsmtp","responseCode":535,"service":"ai-assistant-backend","stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-77607b18371sm5676625b3a.49 - gsmtp\n    at SMTPConnection._formatError (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:809:19)\n    at SMTPConnection._actionAUTHComplete (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:1588:34)\n    at SMTPConnection.<anonymous> (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:556:26)\n    at SMTPConnection._processResponse (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:993:20)\n    at SMTPConnection._onData (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:774:14)\n    at SMTPConnection._onSocketData (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)","timestamp":"2025-09-12 19:26:29"}
{"code":"EAUTH","command":"AUTH PLAIN","level":"error","message":"Failed to initialize email service: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 98e67ed59e1d1-32df97c3b9csm210926a91.11 - gsmtp","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 98e67ed59e1d1-32df97c3b9csm210926a91.11 - gsmtp","responseCode":535,"service":"ai-assistant-backend","stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 98e67ed59e1d1-32df97c3b9csm210926a91.11 - gsmtp\n    at SMTPConnection._formatError (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:809:19)\n    at SMTPConnection._actionAUTHComplete (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:1588:34)\n    at SMTPConnection.<anonymous> (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:556:26)\n    at SMTPConnection._processResponse (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:993:20)\n    at SMTPConnection._onData (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:774:14)\n    at SMTPConnection._onSocketData (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)","timestamp":"2025-09-12 19:27:57"}
{"level":"error","message":"Get profile error: Cannot read properties of undefined (reading 'id')","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at getProfile (/home/amol/Desktop/VIVI/backend/src/controllers/authController.js:142:49)\n    at Layer.handle [as handle_request] (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-09-14 15:16:21"}
{"ip":"::1","level":"error","message":"Error occurred: Cannot read properties of undefined (reading 'id')","method":"GET","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at getProfile (/home/amol/Desktop/VIVI/backend/src/controllers/authController.js:142:49)\n    at Layer.handle [as handle_request] (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amol/Desktop/VIVI/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-09-14 15:16:21","url":"/api/auth/profile","userAgent":"PostmanRuntime/7.46.0"}
{"ip":"::1","level":"error","message":"Error occurred: Expected double-quoted property name in JSON at position 87 (line 5 column 1)","method":"POST","service":"ai-assistant-backend","stack":"SyntaxError: Expected double-quoted property name in JSON at position 87 (line 5 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/amol/Desktop/VIVI/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/amol/Desktop/VIVI/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/amol/Desktop/VIVI/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/amol/Desktop/VIVI/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/amol/Desktop/VIVI/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-09-14 15:30:33","url":"/api/admin/users/invite","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 17:35:32"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 17:35:32"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 17:35:32","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"AI chat error: Cannot read properties of undefined (reading 'getOrganizationalContext')","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'getOrganizationalContext')\n    at chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:42:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-14 17:43:44"}
{"ip":"::1","level":"error","message":"Error occurred: Cannot read properties of undefined (reading 'getOrganizationalContext')","method":"POST","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'getOrganizationalContext')\n    at chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:42:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-14 17:43:44","url":"/api/ai/chat","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 17:45:36"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 17:45:36"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 17:45:36","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 17:46:10"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 17:46:10"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 17:46:10","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 17:49:35"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 17:49:35"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 17:49:35","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 17:49:39"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 17:49:39"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 17:49:39","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 18:04:56"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 18:04:56"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 18:04:56","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 18:05:30"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 18:05:30"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 18:05:30","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 18:08:26"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 18:08:26"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:126:24)","timestamp":"2025-09-14 18:08:26","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 18:10:01"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:125:24)","timestamp":"2025-09-14 18:10:01"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:125:24)","timestamp":"2025-09-14 18:10:01","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 18:13:21"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:125:24)","timestamp":"2025-09-14 18:13:21"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:125:24)","timestamp":"2025-09-14 18:13:21","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-14 18:17:37"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:125:24)","timestamp":"2025-09-14 18:17:37"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:125:24)","timestamp":"2025-09-14 18:17:37","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama embedding error:","service":"ai-assistant-backend","timestamp":"2025-09-14 18:19:29"}
{"level":"error","message":"Process document error: Embedding generation failed","service":"ai-assistant-backend","stack":"Error: Embedding generation failed\n    at OllamaService.generateEmbeddings (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:71:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:131:28)","timestamp":"2025-09-14 18:19:29"}
{"ip":"::1","level":"error","message":"Error occurred: Embedding generation failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Embedding generation failed\n    at OllamaService.generateEmbeddings (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:71:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:131:28)","timestamp":"2025-09-14 18:19:29","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-16 17:41:00"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:68:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:348:24)","timestamp":"2025-09-16 17:41:00"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:68:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:348:24)","timestamp":"2025-09-16 17:41:00","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-16 17:42:35"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:68:13)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:348:24)","timestamp":"2025-09-16 17:42:35"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:68:13)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:348:24)","timestamp":"2025-09-16 17:42:35","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-16 17:45:17"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:68:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:348:24)","timestamp":"2025-09-16 17:45:17"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:68:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:348:24)","timestamp":"2025-09-16 17:45:17","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama document processing error:","service":"ai-assistant-backend","timestamp":"2025-09-16 17:46:44"}
{"level":"error","message":"Process document error: Document processing failed","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:68:13)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:348:24)","timestamp":"2025-09-16 17:46:44"}
{"ip":"::1","level":"error","message":"Error occurred: Document processing failed","method":"POST","service":"ai-assistant-backend","stack":"Error: Document processing failed\n    at OllamaService.processDocument (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:68:13)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async processDocument (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:348:24)","timestamp":"2025-09-16 17:46:44","url":"/api/ai/documents/process","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"AI chat error: Cannot read properties of undefined (reading 'getOrganizationalContext')","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'getOrganizationalContext')\n    at chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:294:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-16 18:33:24"}
{"ip":"::1","level":"error","message":"Error occurred: Cannot read properties of undefined (reading 'getOrganizationalContext')","method":"POST","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'getOrganizationalContext')\n    at chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:294:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-16 18:33:24","url":"/api/ai/chat","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"AI chat error: Cannot read properties of undefined (reading 'getOrganizationalContext')","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'getOrganizationalContext')\n    at chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:294:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-16 18:52:50"}
{"ip":"::1","level":"error","message":"Error occurred: Cannot read properties of undefined (reading 'getOrganizationalContext')","method":"POST","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'getOrganizationalContext')\n    at chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:294:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-16 18:52:50","url":"/api/ai/chat","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"AI chat error: Cannot read properties of undefined (reading 'getOrganizationalContext')","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'getOrganizationalContext')\n    at chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:292:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-16 19:34:52"}
{"ip":"::1","level":"error","message":"Error occurred: Cannot read properties of undefined (reading 'getOrganizationalContext')","method":"POST","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'getOrganizationalContext')\n    at chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:292:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-16 19:34:52","url":"/api/ai/chat","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"AI chat error: Cannot read properties of undefined (reading 'getOrganizationalContext')","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'getOrganizationalContext')\n    at chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:292:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-16 19:34:54"}
{"ip":"::1","level":"error","message":"Error occurred: Cannot read properties of undefined (reading 'getOrganizationalContext')","method":"POST","service":"ai-assistant-backend","stack":"TypeError: Cannot read properties of undefined (reading 'getOrganizationalContext')\n    at chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:292:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-16 19:34:54","url":"/api/ai/chat","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama chat error:","service":"ai-assistant-backend","timestamp":"2025-09-16 19:36:47"}
{"level":"error","message":"AI chat error: AI service unavailable","service":"ai-assistant-backend","stack":"Error: AI service unavailable\n    at OllamaService.chat (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:29:13)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async AIController.chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:51:26)","timestamp":"2025-09-16 19:36:47"}
{"ip":"::1","level":"error","message":"Error occurred: AI service unavailable","method":"POST","service":"ai-assistant-backend","stack":"Error: AI service unavailable\n    at OllamaService.chat (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:29:13)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async AIController.chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:51:26)","timestamp":"2025-09-16 19:36:47","url":"/api/ai/chat","userAgent":"PostmanRuntime/7.46.0"}
{"level":"error","message":"Ollama chat error: timeout of 30000ms exceeded","service":"ai-assistant-backend","timestamp":"2025-09-16 19:45:51"}
{"level":"error","message":"AI chat error: AI service unavailable","service":"ai-assistant-backend","stack":"Error: AI service unavailable\n    at OllamaService.chat (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:35:13)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async AIController.chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:51:26)","timestamp":"2025-09-16 19:45:51"}
{"ip":"::1","level":"error","message":"Error occurred: AI service unavailable","method":"POST","service":"ai-assistant-backend","stack":"Error: AI service unavailable\n    at OllamaService.chat (/home/amol/Desktop/VIVI/backend/src/services/ollamaService.js:35:13)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async AIController.chat (/home/amol/Desktop/VIVI/backend/src/controllers/aiController.js:51:26)","timestamp":"2025-09-16 19:45:51","url":"/api/ai/chat","userAgent":"PostmanRuntime/7.46.0"}
