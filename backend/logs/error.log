{"level":"error","message":"Failed to initialize email service: nodemailer.createTransporter is not a function","service":"ai-assistant-backend","stack":"TypeError: nodemailer.createTransporter is not a function\n    at EmailService.init (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:15:39)\n    at new EmailService (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:8:10)\n    at Object.<anonymous> (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:194:18)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Object..js (node:internal/modules/cjs/loader:1895:10)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1487:12)","timestamp":"2025-09-12 19:09:20"}
{"level":"error","message":"Failed to sync database: password authentication failed for user \"username\"","name":"SequelizeConnectionError","original":{"code":"28P01","file":"auth.c","length":104,"line":"321","name":"error","routine":"auth_failed","severity":"FATAL"},"parent":{"code":"28P01","file":"auth.c","length":104,"line":"321","name":"error","routine":"auth_failed","severity":"FATAL"},"service":"ai-assistant-backend","stack":"SequelizeConnectionError: password authentication failed for user \"username\"\n    at Client._connectionCallback (/home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/dialects/postgres/connection-manager.js:145:24)\n    at Client._handleErrorWhileConnecting (/home/amol/Desktop/VIVI/backend/node_modules/pg/lib/client.js:336:19)\n    at Client._handleErrorMessage (/home/amol/Desktop/VIVI/backend/node_modules/pg/lib/client.js:356:19)\n    at Connection.emit (node:events:518:28)\n    at /home/amol/Desktop/VIVI/backend/node_modules/pg/lib/connection.js:116:12\n    at Parser.parse (/home/amol/Desktop/VIVI/backend/node_modules/pg-protocol/dist/parser.js:36:17)\n    at Socket.<anonymous> (/home/amol/Desktop/VIVI/backend/node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)","timestamp":"2025-09-12 19:09:20"}
{"level":"error","message":"Failed to initialize email service: nodemailer.createTransporter is not a function","service":"ai-assistant-backend","stack":"TypeError: nodemailer.createTransporter is not a function\n    at EmailService.init (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:15:39)\n    at new EmailService (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:8:10)\n    at Object.<anonymous> (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:194:18)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Object..js (node:internal/modules/cjs/loader:1895:10)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1487:12)","timestamp":"2025-09-12 19:23:25"}
{"level":"error","message":"Failed to sync database: permission denied for schema public","name":"SequelizeDatabaseError","original":{"code":"42501","file":"aclchk.c","length":99,"line":"2843","name":"error","position":"28","routine":"aclcheck_error","severity":"ERROR","sql":"CREATE TABLE IF NOT EXISTS \"organizations\" (\"id\"  SERIAL , \"name\" VARCHAR(255) NOT NULL, \"slug\" VARCHAR(100) NOT NULL UNIQUE, \"description\" TEXT, \"settings\" JSONB DEFAULT '{}', \"language_settings\" JSONB DEFAULT '{\"default\":\"en\",\"supported\":[\"en\"]}', \"is_active\" BOOLEAN DEFAULT true, \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));"},"parameters":{},"parent":{"code":"42501","file":"aclchk.c","length":99,"line":"2843","name":"error","position":"28","routine":"aclcheck_error","severity":"ERROR","sql":"CREATE TABLE IF NOT EXISTS \"organizations\" (\"id\"  SERIAL , \"name\" VARCHAR(255) NOT NULL, \"slug\" VARCHAR(100) NOT NULL UNIQUE, \"description\" TEXT, \"settings\" JSONB DEFAULT '{}', \"language_settings\" JSONB DEFAULT '{\"default\":\"en\",\"supported\":[\"en\"]}', \"is_active\" BOOLEAN DEFAULT true, \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));"},"service":"ai-assistant-backend","sql":"CREATE TABLE IF NOT EXISTS \"organizations\" (\"id\"  SERIAL , \"name\" VARCHAR(255) NOT NULL, \"slug\" VARCHAR(100) NOT NULL UNIQUE, \"description\" TEXT, \"settings\" JSONB DEFAULT '{}', \"language_settings\" JSONB DEFAULT '{\"default\":\"en\",\"supported\":[\"en\"]}', \"is_active\" BOOLEAN DEFAULT true, \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));","stack":"Error\n    at Query.run (/home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async Organization.sync (/home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/home/amol/Desktop/VIVI/backend/node_modules/sequelize/lib/sequelize.js:377:9)","timestamp":"2025-09-12 19:23:25"}
{"level":"error","message":"Failed to initialize email service: nodemailer.createTransporter is not a function","service":"ai-assistant-backend","stack":"TypeError: nodemailer.createTransporter is not a function\n    at EmailService.init (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:15:39)\n    at new EmailService (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:8:10)\n    at Object.<anonymous> (/home/amol/Desktop/VIVI/backend/src/services/emailService.js:194:18)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Object..js (node:internal/modules/cjs/loader:1895:10)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1487:12)","timestamp":"2025-09-12 19:24:26"}
{"code":"EAUTH","command":"AUTH PLAIN","level":"error","message":"Failed to initialize email service: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-77607b18371sm5676625b3a.49 - gsmtp","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-77607b18371sm5676625b3a.49 - gsmtp","responseCode":535,"service":"ai-assistant-backend","stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-77607b18371sm5676625b3a.49 - gsmtp\n    at SMTPConnection._formatError (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:809:19)\n    at SMTPConnection._actionAUTHComplete (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:1588:34)\n    at SMTPConnection.<anonymous> (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:556:26)\n    at SMTPConnection._processResponse (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:993:20)\n    at SMTPConnection._onData (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:774:14)\n    at SMTPConnection._onSocketData (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)","timestamp":"2025-09-12 19:26:29"}
{"code":"EAUTH","command":"AUTH PLAIN","level":"error","message":"Failed to initialize email service: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 98e67ed59e1d1-32df97c3b9csm210926a91.11 - gsmtp","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 98e67ed59e1d1-32df97c3b9csm210926a91.11 - gsmtp","responseCode":535,"service":"ai-assistant-backend","stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 98e67ed59e1d1-32df97c3b9csm210926a91.11 - gsmtp\n    at SMTPConnection._formatError (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:809:19)\n    at SMTPConnection._actionAUTHComplete (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:1588:34)\n    at SMTPConnection.<anonymous> (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:556:26)\n    at SMTPConnection._processResponse (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:993:20)\n    at SMTPConnection._onData (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:774:14)\n    at SMTPConnection._onSocketData (/home/amol/Desktop/VIVI/backend/node_modules/nodemailer/lib/smtp-connection/index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)","timestamp":"2025-09-12 19:27:57"}
